import json
from collections import deque

import plotly
import plotly.graph_objs as go

import dashsubcomponents
from dash import Dash
from dash.dependencies import Input, Output
from dash_extensions import WebSocket
import dash_bootstrap_components as dbc
from dash import Output, html, dcc, Input
import pandas as pd

# Create example app.
app = Dash(__name__, prevent_initial_callbacks=True, external_stylesheets=[dbc.themes.BOOTSTRAP])

CONTENT_STYLE = {
    "margin-left": "18rem",
    "margin-right": "2rem",
    "padding": "2rem 1rem",
}

websocket = html.Div([
    dcc.Input(id="input", autoComplete="off"), html.Div(id="message"),

])


mltraining = html.Div([dcc.Textarea(id='liveupdate', value="""Commands: "start" to start the Training """, style={'width': '100%', 'height': '100%'}), websocket])
mainpage = html.Div([html.P("Willkommen"), websocket])
liveData = html.Div([html.P("Live Data from the sensor"), websocket, dcc.Graph(id = 'live-graph', animate = False, config={"responsive":True})])


content = html.Div(id="page-content", style=CONTENT_STYLE)
app.layout = html.Div([dcc.Location(id="url"), dashsubcomponents.sidebar, content, WebSocket(url="ws://192.168.8.218:5300/", id="ws")])


@app.callback(Output("ws", "send"), [Input("input", "value")])
def send(value):
    return value

@app.callback(Output('page-content', 'children'),
              [Input('url', 'pathname')])
def display_page(pathname):
    if pathname == '/':
        return mainpage
    elif pathname == '/mltraining':
        return mltraining
    elif pathname == '/livedata':
        return liveData
    else:
        return mainpage

@app.callback(Output("message", "children"), [Input("ws", "message")])
def message(e):
    teststring = """{"0":{"ax":-0.0048400001,"ay":0.0690400004,"az":-0.0547600016,"gx":0.01664,"gy":-0.0355600007,"gz":-0.02984,"qx":-0.2420037687,"qy":-0.091003187,"qz":-0.0093383547,"qw":0.9658788443,"p":1.1855834723},"1":{"ax":-0.0356400013,"ay":-0.0517200008,"az":0.0568399988,"gx":0.041960001,"gy":0.0042400002,"gz":0.00556,"qx":-0.2105707526,"qy":-0.1044308841,"qz":-0.0162963457,"qw":0.9717992544,"p":1.1933959723},"2":{"ax":0.0313999988,"ay":0.00336,"az":0.0219599996,"gx":0.0948399976,"gy":0.0318799987,"gz":0.0472000018,"qx":-0.1752925217,"qy":-0.0874021202,"qz":0.0026855399,"qw":0.9805883169,"p":1.1933959723},"3":{"ax":0.0414800011,"ay":0.0148799997,"az":-0.0217599999,"gx":0.0879200026,"gy":0.0492400005,"gz":0.01884,"qx":-0.1045529544,"qy":-0.0556639209,"qz":0.0316771641,"qw":0.9924290776,"p":1.1933959723},"4":{"ax":-0.0424400009,"ay":0.0351999998,"az":-0.0338400006,"gx":0.1231200024,"gy":0.0301600005,"gz":-0.0385599993,"qx":-0.0231322646,"qy":-0.0364378951,"qz":0.01745601,"qw":0.9988988042,"p":1.1933959723},"5":{"ax":-0.0188800003,"ay":0.0095199998,"az":0.001,"gx":0.1503199935,"gy":0.0158399995,"gz":-0.0547199994,"qx":0.0285033453,"qy":-0.0237426143,"qz":0.001892085,"qw":0.9992650151,"p":1.2012084723},"6":{"ax":-0.0309999995,"ay":0.0386799984,"az":-0.1039199978,"gx":0.1416399926,"gy":-0.0297200009,"gz":-0.0846399963,"qx":0.1058346927,"qy":-0.0334471799,"qz":-0.03491202,"qw":0.9931614995,"p":1.2012084723},"7":{"ax":-0.086439997,"ay":-0.0139199998,"az":-0.0629199967,"gx":0.0633200034,"gy":-0.1363600045,"gz":-0.0924799964,"qx":0.1831660271,"qy":-0.0703123212,"qz":-0.1000363678,"qw":0.9754003286,"p":1.1700195074},"8":{"ax":-0.0590000004,"ay":0.1198000014,"az":-0.0127999997,"gx":-0.1585599929,"gy":-0.0266800001,"gz":0.0902400017,"qx":0.1577754766,"qy":-0.1287838519,"qz":-0.1295162737,"qw":0.9703954458,"p":1.1700195074},"9":{"ax":0.2073599994,"ay":-0.376639992,"az":0.3020800054,"gx":-0.3988800049,"gy":0.1764799953,"gz":0.2530800104,"qx":-0.044738654,"qy":-0.0473021232,"qz":-0.0089111095,"qw":0.9978001714,"p":1.1855834723},"10":{"ax":0.0326000005,"ay":-0.0204000007,"az":0.2425599992,"gx":-0.1873999983,"gy":0.0679600015,"gz":0.1058000028,"qx":-0.2456048429,"qy":0.0206908658,"qz":0.0791623965,"qw":0.9658788443,"p":1.1855834723},"11":{"ax":-0.0248399992,"ay":0.0635199994,"az":-0.1364800036,"gx":0.3720000088,"gy":-0.0847600028,"gz":-0.0249199998,"qx":-0.1844477654,"qy":0.0232543349,"qz":0.0960080549,"qw":0.9778417349,"p":1.1933959723},"12":{"ax":-0.0847600028,"ay":0.0350399986,"az":-0.3831200004,"gx":0.4874800146,"gy":-0.2021200061,"gz":-0.1478399932,"qx":0.1018063799,"qy":-0.0421141498,"qz":0.0464476347,"qw":0.9927952886,"p":1.1933959723},"13":{"ax":-0.2557199895,"ay":0.3365199864,"az":-0.2745999992,"gx":0.0616800003,"gy":-0.1741600037,"gz":-0.0223200005,"qx":0.3593740761,"qy":-0.2170404643,"qz":-0.1024167314,"qw":0.9017310739,"p":1.2012084723},"14":{"ax":0.3764399886,"ay":-0.3603200018,"az":0.3941200078,"gx":-0.4842399955,"gy":0.3643600047,"gz":0.2836000025,"qx":0.1779780537,"qy":-0.1242672578,"qz":0.048400756,"qw":0.9749120474,"p":1.1855834723},"15":{"ax":0.0270799994,"ay":-0.0915599987,"az":0.3543600142,"gx":-0.4219200015,"gy":0.1636400074,"gz":0.0245200004,"qx":-0.1264034808,"qy":-0.0287474841,"qz":0.1090695411,"qw":0.9855321646,"p":1.1855834723},"16":{"ax":-0.1026000008,"ay":0.0957200006,"az":0.04476,"gx":0.1454399973,"gy":0.0189599991,"gz":-0.0796800032,"qx":-0.2137445658,"qy":0.0120849302,"qz":0.0751340836,"qw":0.9738744497,"p":1.1622070074},"17":{"ax":-0.0659599975,"ay":0.0156800002,"az":-0.3556799889,"gx":0.4445999861,"gy":-0.1009199992,"gz":-0.1145600006,"qx":-0.0387572236,"qy":-0.0104369847,"qz":0.0242308956,"qw":0.998837769,"p":1.1622070074},"18":{"ax":-0.1005199999,"ay":0.0946400017,"az":-0.2686400115,"gx":0.3801200092,"gy":-0.2301200032,"gz":-0.1310800016,"qx":0.2042231113,"qy":-0.0929563046,"qz":-0.0422972552,"qw":0.9735082388,"p":1.1855834723},"19":{"ax":-0.0526000001,"ay":0.3390800059,"az":-0.1175599992,"gx":-0.0867599994,"gy":0.0566800013,"gz":0.159799993,"qx":0.3077995181,"qy":-0.2033075839,"qz":-0.080322057,"qw":0.9259619713,"p":1.1855834723},"20":{"ax":0.2987200022,"ay":-0.4688799977,"az":0.4333600104,"gx":-0.4926800132,"gy":0.2756400108,"gz":0.246480003,"qx":0.0899045542,"qy":-0.0845945105,"qz":0.0815427601,"qw":0.9889500737,"p":1.1933959723},"21":{"ax":0.0026,"ay":-0.04036,"az":0.299879998,"gx":-0.2831999958,"gy":0.1260800064,"gz":0.0423999988,"qx":-0.1881709099,"qy":-0.0086669698,"qz":0.1431270689,"qw":0.9715551138,"p":1.1933959723},"22":{"ax":-0.0714399964,"ay":0.0743599981,"az":-0.1658000052,"gx":0.3133600056,"gy":-0.0452000014,"gz":-0.0824000016,"qx":-0.1542354375,"qy":0.0075073051,"qz":0.1166989207,"qw":0.9810765982,"p":1.1543945074},"23":{"ax":-0.0394000001,"ay":0.0725599974,"az":-0.2775999904,"gx":0.3774800003,"gy":-0.1060400009,"gz":-0.138319999,"qx":0.0573118664,"qy":-0.0202025846,"qz":0.05676255,"qw":0.9965184331,"p":1.1543945074},"24":{"ax":-0.0927599967,"ay":0.1033999994,"az":-0.1503999978,"gx":0.2283599973,"gy":-0.1817999929,"gz":-0.1734800041,"qx":0.2258905321,"qy":-0.0848386511,"qz":-0.0353392661,"qw":0.9697850943,"p":1.1700195074},"25":{"ax":-0.0707999989,"ay":0.1747200042,"az":0.0108000003,"gx":-0.2159200013,"gy":0.0477200001,"gz":0.1981599927,"qx":0.2379754633,"qy":-0.1943354458,"qz":-0.1158444285,"qw":0.9445165992,"p":1.1855834723},"26":{"ax":0.2103199959,"ay":-0.4820800126,"az":0.2581999898,"gx":-0.503279984,"gy":0.2509599924,"gz":0.3345200121,"qx":0.01672359,"qy":-0.1016843095,"qz":0.0301512908,"qw":0.9941990972,"p":1.1855834723},"27":{"ax":0.0722799972,"ay":0.01504,"az":0.3276799917,"gx":-0.3287599981,"gy":0.0856399983,"gz":0.1198400036,"qx":-0.2738640308,"qy":-0.0189818852,"qz":0.1325680166,"qw":0.9523290992,"p":1.1543945074},"28":{"ax":-0.0240000002,"ay":0.0434800014,"az":-0.0342799984,"gx":0.2094399929,"gy":-0.0017199999,"gz":-0.0159600005,"qx":-0.3007804751,"qy":0.000549315,"qz":0.1510616243,"qw":0.9415869713,"p":1.1543945074},"29":{"ax":-0.0626799986,"ay":0.0394399986,"az":-0.354640007,"gx":0.4556800127,"gy":-0.1051599979,"gz":-0.1393599957,"qx":-0.0784299746,"qy":-0.0141601199,"qz":0.1082760915,"qw":0.9909031987,"p":1.1622070074},"30":{"ax":-0.0731600001,"ay":0.1231999993,"az":-0.1619199961,"gx":0.3535600007,"gy":-0.157159999,"gz":-0.1925199926,"qx":0.1453243345,"qy":-0.0634763986,"qz":0.0234984756,"qw":0.9869970083,"p":1.1622070074},"31":{"ax":-0.1207199991,"ay":0.1169599965,"az":-0.1143200025,"gx":0.1105199978,"gy":-0.1816000044,"gz":-0.1426800042,"qx":0.2954094112,"qy":-0.1495357454,"qz":-0.1019284502,"qw":0.9380469322,"p":1.1700195074},"32":{"ax":0.0361200012,"ay":0.1605200022,"az":0.0941200033,"gx":-0.2870399952,"gy":0.1252399981,"gz":0.2038400024,"qx":0.2380364984,"qy":-0.1884150505,"qz":-0.1219479293,"qw":0.9449438453,"p":1.1700195074},"33":{"ax":0.1710000038,"ay":-0.5640400052,"az":0.349240005,"gx":-0.5534399748,"gy":0.209920004,"gz":0.2345599979,"qx":-0.0491942093,"qy":-0.0578611791,"qz":0.0150756454,"qw":0.9969456792,"p":1.1465820074},"34":{"ax":0.0153200002,"ay":0.0930000022,"az":0.2698400021,"gx":-0.210679993,"gy":0.0582000017,"gz":0.093840003,"qx":-0.2961418331,"qy":0.002990715,"qz":0.0821531117,"qw":0.9515356421,"p":1.1465820074},"35":{"ax":-0.00272,"ay":0.0476800017,"az":-0.1554799974,"gx":0.3494400084,"gy":-0.075319998,"gz":0.0077599999,"qx":-0.2465814054,"qy":0.0112304399,"qz":0.1087643728,"qw":0.9628881812,"p":1.1543945074},"36":{"ax":-0.0298800003,"ay":0.0504399985,"az":-0.3904800117,"gx":0.4924399853,"gy":-0.1461199969,"gz":-0.0986000001,"qx":0.0353392661,"qy":-0.0321654454,"qz":0.089050062,"qw":0.9948704839,"p":1.1543945074},"37":{"ax":-0.0957999974,"ay":0.1159199998,"az":-0.1852000058,"gx":0.3075999916,"gy":-0.2571200132,"gz":-0.1882800013,"qx":0.2583611608,"qy":-0.1129757836,"qz":0.0062866048,"qw":0.9593481421,"p":1.1777709723},"38":{"ax":-0.1531199962,"ay":0.2684400082,"az":-0.00048,"gx":-0.1552399993,"gy":-0.0557999983,"gz":0.0407599993,"qx":0.3139640391,"qy":-0.2179559916,"qz":-0.1083981618,"qw":0.9176612496,"p":1.1777709723},"39":{"ax":0.2199999988,"ay":-0.3884800076,"az":0.2882399857,"gx":-0.5414400101,"gy":0.3053599894,"gz":0.3162800074,"qx":0.0889890268,"qy":-0.1383663416,"qz":-0.001403805,"qw":0.9863256216,"p":1.1543945074},"40":{"ax":0.0634000003,"ay":-0.2895599902,"az":0.2813999951,"gx":-0.560559988,"gy":0.1281200051,"gz":0.164199993,"qx":-0.2265008837,"qy":-0.0370482467,"qz":0.0900266245,"qw":0.9691137075,"p":1.1543945074},"41":{"ax":-0.0142000001,"ay":0.2053599954,"az":0.2625199854,"gx":-0.0646400005,"gy":0.0309999995,"gz":0.0667999983,"qx":-0.3931874633,"qy":0.001281735,"qz":0.1252438128,"qw":0.9108253121,"p":1.1387695074},"42":{"ax":0.0054000001,"ay":-0.0666000023,"az":-0.485799998,"gx":0.5789999962,"gy":-0.1343200058,"gz":-0.0572400019,"qx":-0.1940913051,"qy":-0.0052490099,"qz":0.1390377283,"qw":0.9710057974,"p":1.1387695074},"43":{"ax":-0.0989200026,"ay":0.1263200045,"az":-0.3313600123,"gx":0.4733200073,"gy":-0.3040400147,"gz":-0.2208400071,"qx":0.1693721265,"qy":-0.0916135311,"qz":0.0630491525,"qw":0.9792455435,"p":1.1777709723},"44":{"ax":-0.1156399995,"ay":0.634920001,"az":-0.0134800002,"gx":-0.1746399999,"gy":0.0554799996,"gz":0.0258000009,"qx":0.3061515689,"qy":-0.2147821635,"qz":-0.0925900936,"qw":0.922727108,"p":1.1232055426},"45":{"ax":0.1728399992,"ay":-0.524879992,"az":0.2954399884,"gx":-0.4632000029,"gy":0.2962799966,"gz":0.1863999963,"qx":0.1537471712,"qy":-0.1163327098,"qz":-0.0292968005,"qw":0.9807714224,"p":1.1232055426},"46":{"ax":0.0287999995,"ay":-0.1469199955,"az":0.2876000106,"gx":-0.2987999916,"gy":0.1146799996,"gz":0.0421600007,"qx":-0.1186520383,"qy":-0.0097655999,"qz":0.0248412453,"qw":0.9925511479,"p":1.1387695074},"47":{"ax":-0.0499200001,"ay":0.1221600026,"az":-0.1100400016,"gx":0.2749600112,"gy":-0.1260800064,"gz":-0.0603599995,"qx":-0.1178585812,"qy":-0.0169677306,"qz":0.01599117,"qw":0.9927342534,"p":1.1387695074},"48":{"ax":-0.1143200025,"ay":0.3007600009,"az":-0.457679987,"gx":0.1490399987,"gy":-0.1312399954,"gz":0.0422799997,"qx":0.1580196172,"qy":-0.1954950988,"qz":-0.011657685,"qw":0.9677709341,"p":1.1465820074},"49":{"ax":0.1829600036,"ay":-0.0150800003,"az":0.1913200021,"gx":-0.2954800129,"gy":0.287440002,"gz":0.2878800035,"qx":0.103027083,"qy":-0.1646113992,"qz":0.070251286,"qw":0.9783910513,"p":1.1465820074},"50":{"ax":0.0963200033,"ay":-0.5117599964,"az":0.284799993,"gx":-0.4777599871,"gy":0.161679998,"gz":0.1225199997,"qx":-0.1478267759,"qy":-0.0697019696,"qz":0.1578975469,"qw":0.9738134146,"p":1.1310180426},"51":{"ax":-0.1280799955,"ay":0.145600006,"az":0.0754000023,"gx":0.2684800029,"gy":-0.0240800008,"gz":-0.0946400017,"qx":-0.2605584264,"qy":-0.0300902557,"qz":0.1244503632,"qw":0.9569067359,"p":1.1310180426},"52":{"ax":-0.0734400004,"ay":0.0472000018,"az":-0.363319993,"gx":0.4424400032,"gy":-0.1458400041,"gz":-0.146359995,"qx":-0.0043334849,"qy":-0.080322057,"qz":0.0642698556,"qw":0.9946263433,"p":1.1232055426},"53":{"ax":-0.0923599973,"ay":0.1837199926,"az":-0.2455600053,"gx":0.2152400017,"gy":-0.2012799978,"gz":-0.0809200034,"qx":0.2294305712,"qy":-0.1761470139,"qz":-0.00073242,"qw":0.9572119117,"p":1.1232055426},"54":{"ax":0.0989999995,"ay":0.1869599968,"az":0.1382800043,"gx":-0.2461600006,"gy":0.1987999976,"gz":0.1968400031,"qx":0.2119745612,"qy":-0.1943354458,"qz":0.0203246549,"qw":0.9575170875,"p":1.1232055426},"55":{"ax":0.1569599956,"ay":-0.4556800127,"az":0.3216800094,"gx":-0.452639997,"gy":0.1626400054,"gz":0.1243600026,"qx":-0.0379637703,"qy":-0.0932614803,"qz":0.1104123145,"qw":0.9887059331,"p":1.1232055426},"56":{"ax":-0.0590000004,"ay":0.0443199985,"az":0.2914400101,"gx":-0.091959998,"gy":0.0661199987,"gz":-0.0309200007,"qx":-0.2631218731,"qy":-0.0337523557,"qz":0.1037594974,"qw":0.95849365,"p":1.1153930426},"57":{"ax":-0.0743200034,"ay":0.0268799998,"az":-0.3531999886,"gx":0.4281199872,"gy":-0.0893599987,"gz":-0.0610000007,"qx":-0.0794675723,"qy":-0.0440062359,"qz":0.069457829,"qw":0.9934056401,"p":1.1387695074},"58":{"ax":-0.0239199996,"ay":0.1086800024,"az":-0.2393999994,"gx":0.3828400075,"gy":-0.1474400014,"gz":-0.0551999994,"qx":0.1751704514,"qy":-0.094299078,"qz":0.049865596,"qw":0.9786962271,"p":1.1387695074},"59":{"ax":-0.0917999968,"ay":0.1249200031,"az":-0.1598400027,"gx":0.1324799955,"gy":-0.137319997,"gz":0.0111199999,"qx":0.3363028467,"qy":-0.1749873459,"qz":0.0219726004,"qw":0.9250464439,"p":1.1310180426},"60":{"ax":0.0203200001,"ay":0.1136000007,"az":-0.0201200005,"gx":-0.1150399968,"gy":0.0435199998,"gz":0.1527200043,"qx":0.3363028467,"qy":-0.2053217441,"qz":0.0367430709,"qw":0.9183326364,"p":1.1310180426},"61":{"ax":0.2572000027,"ay":-0.3388000131,"az":0.3720000088,"gx":-0.5327200294,"gy":0.3161199987,"gz":0.1998800039,"qx":0.0972897932,"qy":-0.1252438128,"qz":0.1566158086,"qw":0.9747899771,"p":1.1232055426},"62":{"ax":-0.0607200004,"ay":-0.1953199953,"az":0.3845199943,"gx":-0.3899199963,"gy":0.1410399973,"gz":-0.0684799999,"qx":-0.2636711895,"qy":-0.0475462638,"qz":0.151733011,"qw":0.9513525367,"p":1.1232055426},"63":{"ax":-0.1272000074,"ay":0.1053199992,"az":-0.201639995,"gx":0.4435200095,"gy":-0.0482800007,"gz":-0.086120002,"qx":-0.2145380229,"qy":-0.0288695544,"qz":0.0675047114,"qw":0.9739354849,"p":1.1310180426},"64":{"ax":-0.0033199999,"ay":0.1147999987,"az":-0.3647600114,"gx":0.4747200012,"gy":-0.1394000053,"gz":-0.0803600028,"qx":0.0992429107,"qy":-0.0791013613,"qz":0.0358275436,"qw":0.9912083745,"p":1.1310180426},"65":{"ax":-0.0755999982,"ay":0.1604799926,"az":-0.1716399938,"gx":0.2205200046,"gy":-0.1863200068,"gz":-0.0566399992,"qx":0.310424,"qy":-0.1638179421,"qz":-0.009826635,"qw":0.9362769127,"p":1.1075805426},"66":{"ax":-0.0654800013,"ay":0.132919997,"az":-0.0474799983,"gx":-0.043159999,"gy":-0.0859199986,"gz":0.0735599995,"qx":0.3417349756,"qy":-0.2167352885,"qz":-0.0242919307,"qw":0.9141212106,"p":1.1075805426},"67":{"ax":0.2297199965,"ay":-0.2206799984,"az":0.277399987,"gx":-0.4618400037,"gy":0.2860400081,"gz":0.2713199854,"qx":0.1720576584,"qy":-0.1766352952,"qz":0.0762937516,"qw":0.9660619497,"p":1.0920165777},"68":{"ax":0.0666799992,"ay":-0.3682799935,"az":0.4041199982,"gx":-0.5462399721,"gy":0.172999993,"gz":0.0519599989,"qx":-0.2398675531,"qy":-0.0629270822,"qz":0.147460565,"qw":0.9574560523,"p":1.0920165777},"69":{"ax":-0.1254799962,"ay":0.1460800022,"az":0.0985200033,"gx":0.2349199951,"gy":0.0130399996,"gz":-0.0394000001,"qx":-0.3772573471,"qy":-0.0327757932,"qz":0.095275633,"qw":0.9205908775,"p":1.0842040777},"70":{"ax":0.0223200005,"ay":0.0496399999,"az":-0.4542399943,"gx":0.5432800055,"gy":-0.0881199986,"gz":-0.0265200008,"qx":-0.0684202313,"qy":-0.0421141498,"qz":0.0954587385,"qw":0.9921239018,"p":1.1232055426},"71":{"ax":0.0014,"ay":0.1457599998,"az":-0.1543200016,"gx":0.4312399924,"gy":-0.1608799994,"gz":-0.0729999989,"qx":0.1611323953,"qy":-0.0739744231,"qz":0.0835569128,"qw":0.9805883169,"p":1.1232055426},"72":{"ax":-0.070600003,"ay":0.1129600033,"az":-0.1044400036,"gx":0.2581200004,"gy":-0.2261999995,"gz":-0.1050800011,"qx":0.302672565,"qy":-0.1321407706,"qz":0.0407103449,"qw":0.9429907203,"p":1.1232055426},"73":{"ax":0.0133600002,"ay":0.126000002,"az":0.0202399995,"gx":-0.2667199969,"gy":0.1565600038,"gz":0.1680800021,"qx":0.3141471446,"qy":-0.2045282871,"qz":0.0144042596,"qw":0.9269385338,"p":1.1232055426},"74":{"ax":0.0724000037,"ay":-0.6050000191,"az":0.5889999866,"gx":-0.5357599854,"gy":0.1310800016,"gz":-0.0779199973,"qx":-0.2740471363,"qy":-0.0267333295,"qz":0.0738523528,"qw":0.9584326148,"p":1.0920165777},"75":{"ax":-0.1047599986,"ay":0.2019599974,"az":0.1346399933,"gx":0.2933599949,"gy":-0.0174800009,"gz":-0.023,"qx":-0.3815297782,"qy":-0.00634764,"qz":0.0089721447,"qw":0.9242529869,"p":1.0997680426},"76":{"ax":0.0460000001,"ay":-0.0746399984,"az":-0.4325599968,"gx":0.6355199814,"gy":-0.1252399981,"gz":0.0060399999,"qx":-0.1528316438,"qy":-0.0369261764,"qz":0.0230712295,"qw":0.9872411489,"p":1.0997680426},"77":{"ax":-0.0554799996,"ay":0.3536800146,"az":-0.4149200022,"gx":0.3700399995,"gy":-0.2631599903,"gz":-0.0513599999,"qx":0.2940056026,"qy":-0.1864008904,"qz":0.0212401804,"qw":0.9371314049,"p":1.0997680426},"78":{"ax":0.2043199986,"ay":0.1289999932,"az":0.1998399943,"gx":-0.2893599868,"gy":0.4069600105,"gz":0.2052800059,"qx":0.2985832095,"qy":-0.1632686257,"qz":0.0985104889,"qw":0.9350562096,"p":1.0997680426},"79":{"ax":0.0472000018,"ay":-0.4182800055,"az":0.2832799852,"gx":-0.5018000007,"gy":0.2012799978,"gz":-0.0098799998,"qx":0.0869748741,"qy":-0.0660398677,"qz":0.1544795781,"qw":0.9818700552,"p":1.1153930426},"80":{"ax":-0.1187200025,"ay":0.1335600019,"az":0.2266400009,"gx":-0.1934799999,"gy":0.0567199998,"gz":-0.172360003,"qx":-0.108459197,"qy":-0.0310057793,"qz":0.0904538706,"qw":0.989438355,"p":1.1153930426},"81":{"ax":-0.2024399936,"ay":0.1063999981,"az":-0.375,"gx":0.1896799952,"gy":-0.2103600055,"gz":-0.1397600025,"qx":-0.01892085,"qy":-0.1375728846,"qz":-0.0400389582,"qw":0.989438355,"p":1.1075805426},"82":{"ax":0.0567599982,"ay":0.2002799958,"az":-0.0535599999,"gx":-0.0424400009,"gy":0.0091199996,"gz":0.1402399987,"qx":0.0171508342,"qy":-0.1862177849,"qz":-0.0328978635,"qw":0.9817479849,"p":1.1075805426},"83":{"ax":0.1793600023,"ay":-0.3780800104,"az":0.2293200046,"gx":-0.3648799956,"gy":0.1794800013,"gz":0.233919993,"qx":-0.1364742666,"qy":-0.1006467119,"qz":0.0732420012,"qw":0.9827245474,"p":1.0920165777},"84":{"ax":-0.0127999997,"ay":-0.0551600009,"az":0.2703199983,"gx":-0.0541200005,"gy":0.0199999996,"gz":0.0649600029,"qx":-0.3643789589,"qy":-0.0302123241,"qz":0.1498409212,"qw":0.918576777,"p":1.0920165777},"85":{"ax":0.0069599999,"ay":0.0265599992,"az":-0.2273200005,"gx":0.395359993,"gy":-0.0463199988,"gz":0.00728,"qx":-0.241332382,"qy":-0.0084228301,"qz":0.1748652756,"qw":0.9544653296,"p":1.0997680426},"86":{"ax":-0.0351600014,"ay":0.0933199972,"az":-0.2942399979,"gx":0.4043599963,"gy":-0.1822399944,"gz":-0.1712000072,"qx":0.0894162729,"qy":-0.0333861448,"qz":0.1243893281,"qw":0.9876073599,"p":1.0997680426},"87":{"ax":-0.181280002,"ay":0.1984400004,"az":-0.1549199969,"gx":0.1053199992,"gy":-0.2633599937,"gz":-0.1983599961,"qx":0.275084734,"qy":-0.1582637578,"qz":-0.0354613364,"qw":0.947568357,"p":1.0997680426},"88":{"ax":0.0046799998,"ay":0.2092799991,"az":0.0520000011,"gx":-0.2184000015,"gy":0.0128800003,"gz":0.0506399982,"qx":0.2548821568,"qy":-0.2022699863,"qz":-0.0933835506,"qw":0.9409155846,"p":1.0920165777},"89":{"ax":0.127519995,"ay":-0.4565599859,"az":0.2919999957,"gx":-0.5144400001,"gy":0.2324000001,"gz":0.1738799959,"qx":0.0576170385,"qy":-0.111938186,"qz":-0.0400389582,"qw":0.9912083745,"p":1.0920165777},"90":{"ax":0.0144800004,"ay":-0.0970799997,"az":0.311040014,"gx":-0.3539200127,"gy":0.0615999997,"gz":0.0996000022,"qx":-0.2489007264,"qy":-0.0134887351,"qz":0.0173949748,"qw":0.9682592154,"p":1.0920165777},"91":{"ax":0.0522399992,"ay":0.0551199988,"az":-0.2920399904,"gx":0.4847599864,"gy":-0.1922799945,"gz":0.0060800002,"qx":-0.1570430547,"qy":-0.0319213048,"qz":0.0854490027,"qw":0.9833348989,"p":1.0920165777},"92":{"ax":-0.1534799933,"ay":0.2070800066,"az":-0.3885599971,"gx":0.3083199859,"gy":-0.3477999866,"gz":-0.1108800024,"qx":0.1202999875,"qy":-0.1817622334,"qz":0.0680540279,"qw":0.9735082388,"p":1.0842040777},"93":{"ax":0.0826800019,"ay":0.2440000027,"az":0.0986000001,"gx":-0.2197600007,"gy":0.2027200013,"gz":0.195600003,"qx":0.1343380362,"qy":-0.2257074267,"qz":0.0798948184,"qw":0.9615454078,"p":1.0842040777},"94":{"ax":0.1608799994,"ay":-0.4840399921,"az":0.2793599963,"gx":-0.5052000284,"gy":0.2926400006,"gz":0.1733199954,"qx":-0.0659177974,"qy":-0.1217037886,"qz":0.1503902376,"qw":0.9788182974,"p":1.0920165777},"95":{"ax":-0.092840001,"ay":-0.064199999,"az":0.3331199884,"gx":-0.3112399876,"gy":0.1158400029,"gz":-0.059799999,"qx":-0.3529654145,"qy":-0.0539549403,"qz":0.1235348433,"qw":0.925839901,"p":1.0920165777},"96":{"ax":-0.0788400024,"ay":0.0805599988,"az":-0.1113599986,"gx":0.3727599978,"gy":-0.0175599996,"gz":-0.0406000018,"qx":-0.3275748491,"qy":-0.0339964963,"qz":0.0751340836,"qw":0.9411597252,"p":1.0997680426},"97":{"ax":0.0132799996,"ay":0.01504,"az":-0.4289599955,"gx":0.532400012,"gy":-0.1849599928,"gz":-0.0876799971,"qx":0.0219115652,"qy":-0.0806882679,"qz":0.0657957271,"qw":0.9942601323,"p":1.0997680426},"98":{"ax":-0.1155200005,"ay":0.2116799951,"az":-0.2051199973,"gx":0.2782399952,"gy":-0.2911199927,"gz":-0.1267199963,"qx":0.2397454828,"qy":-0.1925043911,"qz":0.010559055,"qw":0.951474607,"p":1.0842040777},"99":{"ax":0.0244399998,"ay":0.373360008,"az":0.0702800006,"gx":-0.1905200034,"gy":0.1532399952,"gz":0.1701599956,"qx":0.2591546178,"qy":-0.248717621,"qz":-0.0046386598,"qw":0.9331641197,"p":1.0842040777},"100":{"ax":0.1823599935,"ay":-0.7402399778,"az":0.4531599879,"gx":-0.5773199797,"gy":0.2617999911,"gz":0.1417199969,"qx":-0.0732420012,"qy":-0.0806272328,"qz":0.1189572141,"qw":0.986874938,"p":1.0685790777},"101":{"ax":-0.0659999996,"ay":0.142839998,"az":0.2805199921,"gx":-0.1898400038,"gy":0.0688399971,"gz":-0.0261599999,"qx":-0.3341666162,"qy":-0.0271605756,"qz":0.105956763,"qw":0.9360938072,"p":1.0685790777},"102":{"ax":-0.0181200001,"ay":0.0296,"az":-0.4081200063,"gx":0.474240005,"gy":-0.1024800017,"gz":-0.0303600002,"qx":-0.1462398618,"qy":-0.0455931462,"qz":0.095641844,"qw":0.9835180044,"p":1.0530151129},"103":{"ax":0.0022799999,"ay":0.0951199979,"az":-0.2786000073,"gx":0.3992399871,"gy":-0.2466800064,"gz":-0.087559998,"qx":0.1790156513,"qy":-0.1148068383,"qz":0.0833738074,"qw":0.9735082388,"p":1.0763915777},"104":{"ax":-0.1299200058,"ay":0.2587600052,"az":-0.1510799974,"gx":0.0132799996,"gy":-0.2058800012,"gz":-0.0358799994,"qx":0.307738483,"qy":-0.2275995165,"qz":0.0191649906,"qw":0.9235816002,"p":1.0763915777},"105":{"ax":0.1233199984,"ay":-0.0505600013,"az":0.1883600056,"gx":-0.4038000107,"gy":0.2375999987,"gz":0.240199998,"qx":0.188598156,"qy":-0.2291253954,"qz":0.0528563112,"qw":0.953427732,"p":1.0763915777},"106":{"ax":0.0890000015,"ay":-0.5915600061,"az":0.3859600127,"gx":-0.6605600119,"gy":0.2215600014,"gz":0.0702800006,"qx":-0.2206415236,"qy":-0.0877683312,"qz":0.1134030297,"qw":0.9647192359,"p":1.0763915777},"107":{"ax":-0.0896800011,"ay":0.1351999938,"az":0.3264800012,"gx":-0.212439999,"gy":0.0793600008,"gz":-0.0231599994,"qx":-0.4877306819,"qy":-0.0415648334,"qz":0.0672605708,"qw":0.8693215251,"p":1.0607665777},"108":{"ax":0.0012000001,"ay":0.00868,"az":-0.2685199976,"gx":0.4887199998,"gy":-0.0482000001,"gz":0.0170000009,"qx":-0.3845205009,"qy":-0.0270385053,"qz":0.0655515864,"qw":0.9203467369,"p":1.0607665777},"109":{"ax":0.0350000001,"ay":0.1164800003,"az":-0.4138399959,"gx":0.5515599847,"gy":-0.1609999985,"gz":-0.0646400005,"qx":0.0275878198,"qy":-0.0695188642,"qz":0.086913839,"qw":0.993344605,"p":1.0920165777},"110":{"ax":-0.1399600059,"ay":0.2494399995,"az":-0.1760800034,"gx":0.2201599926,"gy":-0.261559993,"gz":-0.1405200064,"qx":0.3058463931,"qy":-0.1959223449,"qz":0.0012207,"qw":0.9316382408,"p":1.0530151129},"111":{"ax":-0.0632800013,"ay":0.1929599941,"az":-0.0065600001,"gx":-0.1092400029,"gy":-0.0420400016,"gz":0.0736399963,"qx":0.3327628076,"qy":-0.2636711895,"qz":-0.0433958843,"qw":0.9042945504,"p":1.0530151129},"112":{"ax":0.1881600022,"ay":-0.2644799948,"az":0.2287999988,"gx":-0.4889200032,"gy":0.3009200096,"gz":0.2686400115,"qx":0.1532588899,"qy":-0.2076410651,"qz":0.039977923,"qw":0.9652684927,"p":1.0530151129},"113":{"ax":0.0465199985,"ay":-0.4117600024,"az":0.4348399937,"gx":-0.5819600224,"gy":0.1448400021,"gz":0.0478000008,"qx":-0.3015739322,"qy":-0.0650022775,"qz":0.0955808088,"qw":0.9463476539,"p":1.0452026129},"114":{"ax":-0.0678000003,"ay":0.1789200008,"az":0.1693200022,"gx":0.1554799974,"gy":-0.0026799999,"gz":0.0296800006,"qx":-0.4620959759,"qy":-0.0352782309,"qz":0.0811765492,"qw":0.8823829889,"p":1.0685790777},"115":{"ax":0.0428400002,"ay":-0.05528,"az":-0.3520799875,"gx":0.5487999916,"gy":-0.0809200034,"gz":0.0327600017,"qx":-0.2919914424,"qy":-0.0310668144,"qz":0.1104123145,"qw":0.9494604468,"p":1.0685790777},"116":{"ax":0.0195199996,"ay":0.1206,"az":-0.2966400087,"gx":0.5508800149,"gy":-0.1708000004,"gz":-0.0735599995,"qx":0.0334471799,"qy":-0.0609129295,"qz":0.1235348433,"qw":0.9898656011,"p":1.0997680426},"117":{"ax":-0.1280799955,"ay":0.2406000048,"az":-0.1546799988,"gx":0.2062000036,"gy":-0.2695600092,"gz":-0.1965200007,"qx":0.3103019297,"qy":-0.1730952561,"qz":0.0159301348,"qw":0.9345679283,"p":1.0997680426},"118":{"ax":-0.1202799976,"ay":0.1480800062,"az":-0.0014,"gx":-0.1773200035,"gy":-0.0788400024,"gz":0.0197199993,"qx":0.3290396929,"qy":-0.2534173131,"qz":-0.0824582875,"qw":0.9058814645,"p":1.0452026129},"119":{"ax":0.1788399965,"ay":-0.3021999896,"az":0.2782000005,"gx":-0.5669599771,"gy":0.2716799974,"gz":0.2713199854,"qx":0.0933835506,"qy":-0.186645031,"qz":-0.0141601199,"qw":0.9778417349,"p":1.0452026129},"120":{"ax":0.0498399995,"ay":-0.3895199895,"az":0.3964000046,"gx":-0.5990399718,"gy":0.1255999953,"gz":0.1158000007,"qx":-0.3314200342,"qy":-0.0421751849,"qz":0.0594480895,"qw":0.9406104088,"p":1.0530151129},"121":{"ax":-0.0165599994,"ay":0.2031999975,"az":0.1806800067,"gx":0.0756800026,"gy":-0.0185199995,"gz":0.0604000017,"qx":-0.4822375476,"qy":-0.0133056296,"qz":0.0835569128,"qw":0.8718850017,"p":1.0530151129},"122":{"ax":0.0487999991,"ay":-0.0813999996,"az":-0.424360007,"gx":0.6171200275,"gy":-0.1120000035,"gz":0.0094799995,"qx":-0.2640984356,"qy":-0.0133666648,"qz":0.122253105,"qw":0.9566015601,"p":1.0763915777},"123":{"ax":-0.0432399996,"ay":0.1909199953,"az":-0.3284400105,"gx":0.5472000241,"gy":-0.2161599994,"gz":-0.1527999938,"qx":0.1248776093,"qy":-0.0666502193,"qz":0.096435301,"qw":0.9851659536,"p":1.0763915777},"124":{"ax":-0.1978799999,"ay":0.2094399929,"az":-0.1501999944,"gx":0.1776400059,"gy":-0.34799999,"gz":-0.2412800044,"qx":0.356993705,"qy":-0.192870602,"qz":-0.0551146045,"qw":0.9122901559,"p":1.0763915777},"125":{"ax":-0.080839999,"ay":0.0795599967,"az":0.1054399982,"gx":-0.2466399968,"gy":0.0088799996,"gz":0.1115199998,"qx":0.3332510889,"qy":-0.2688591778,"qz":-0.1600337625,"qw":0.8893409967,"p":1.0763915777},"126":{"ax":0.2044399977,"ay":-0.3191600144,"az":0.252880007,"gx":-0.615440011,"gy":0.2042800039,"gz":0.4038000107,"qx":0.0369261764,"qy":-0.1950068176,"qz":-0.0301512908,"qw":0.9796117544,"p":1.0452026129},"127":{"ax":0.1102799997,"ay":-0.4968000054,"az":0.3388400078,"gx":-0.710959971,"gy":0.1168799996,"gz":0.2738800049,"qx":-0.3687734604,"qy":-0.0700681806,"qz":0.0959470198,"qw":0.9218115807,"p":1.0452026129},"128":{"ax":0.01272,"ay":0.3317599893,"az":0.1764799953,"gx":-0.0417199992,"gy":-0.0965199992,"gz":0.1431200057,"qx":-0.5664048195,"qy":-0.0712278411,"qz":0.188964352,"qw":0.7989481688,"p":1.0452026129},"129":{"ax":0.0467999987,"ay":-0.0137599995,"az":-0.4690400064,"gx":0.607039988,"gy":-0.1531600058,"gz":-0.0599600002,"qx":-0.3079826236,"qy":-0.0599363707,"qz":0.2800896168,"qw":0.9072242379,"p":1.0763915777},"130":{"ax":-0.0510400012,"ay":0.1036000028,"az":-0.2009200007,"gx":0.5457599759,"gy":-0.2199199945,"gz":-0.2607200146,"qx":-0.0249022804,"qy":-0.0810544789,"qz":0.2387689203,"qw":0.967343688,"p":1.0763915777},"131":{"ax":-0.2135600001,"ay":0.1845999956,"az":-0.1123199984,"gx":0.2485599965,"gy":-0.3675200045,"gz":-0.4174799919,"qx":0.241332382,"qy":-0.175414592,"qz":0.0477904044,"qw":0.9532446265,"p":1.0763915777},"132":{"ax":-0.2148399949,"ay":0.2879999876,"az":0.0663200021,"gx":-0.2044399977,"gy":-0.102760002,"gz":-0.0365200005,"qx":0.2796623707,"qy":-0.2928459346,"qz":-0.1876826286,"qw":0.8948341608,"p":1.0920165777},"133":{"ax":0.279399991,"ay":-0.3299599886,"az":0.3130800128,"gx":-0.4865199924,"gy":0.1995200068,"gz":0.4602000117,"qx":0.0184936058,"qy":-0.2080683112,"qz":-0.0701292157,"qw":0.9754003286,"p":1.0373901129},"134":{"ax":0.1870799959,"ay":-0.2969599962,"az":0.2708399892,"gx":-0.4216800034,"gy":0.0055999998,"gz":0.3149999976,"qx":-0.3422232568,"qy":-0.0919797421,"qz":0.1317745596,"qw":0.9257178307,"p":1.0373901129},"135":{"ax":0.0722000003,"ay":0.1675599962,"az":-0.01088,"gx":0.1438799948,"gy":-0.0885199979,"gz":0.1704400033,"qx":-0.3997792602,"qy":-0.081115514,"qz":0.2517083287,"qw":0.8775612116,"p":1.0217651129},"136":{"ax":0.0138800004,"ay":0.0406799987,"az":-0.2790400088,"gx":0.4632000029,"gy":-0.1463200003,"gz":-0.077639997,"qx":-0.2102045417,"qy":-0.0758054703,"qz":0.3059074283,"qw":0.9254126549,"p":1.0217651129},"137":{"ax":-0.1757999957,"ay":0.1307200044,"az":-0.2456800044,"gx":0.3075200021,"gy":-0.2505599856,"gz":-0.3599199951,"qx":0.1142575219,"qy":-0.1404415369,"qz":0.175780803,"qw":0.9675878286,"p":1.0373901129},"138":{"ax":-0.1529999971,"ay":0.0974000022,"az":-0.0525199994,"gx":0.1068800017,"gy":-0.2788400054,"gz":-0.3734000027,"qx":0.2188715041,"qy":-0.2032465488,"qz":0.0374144539,"qw":0.9535498023,"p":1.0373901129},"139":{"ax":-0.141080007,"ay":0.1136000007,"az":0.0450400002,"gx":-0.145720005,"gy":-0.1457999945,"gz":-0.0940399989,"qx":0.2305902243,"qy":-0.2792961597,"qz":-0.1331173331,"qw":0.9224829674,"p":1.0530151129},"140":{"ax":0.2065200061,"ay":-0.193599999,"az":0.2199600041,"gx":-0.4326399863,"gy":0.2152799964,"gz":0.4055199921,"qx":0.0219726004,"qy":-0.2290643603,"qz":-0.0587156713,"qw":0.9713720083,"p":1.0530151129},"141":{"ax":0.1857600063,"ay":-0.407799989,"az":0.2677600086,"gx":-0.4767999947,"gy":0.08292,"gz":0.3181200027,"qx":-0.3144523203,"qy":-0.1085812673,"qz":0.1091305763,"qw":0.9366431236,"p":1.0373901129},"142":{"ax":0.0589199997,"ay":0.2051199973,"az":0.1609600037,"gx":0.0576400012,"gy":-0.0593199991,"gz":0.1333999932,"qx":-0.4293812215,"qy":-0.0883786827,"qz":0.2012323886,"qw":0.8759132624,"p":1.0373901129},"143":{"ax":-0.0053599998,"ay":-0.0497599989,"az":-0.399120003,"gx":0.577639997,"gy":-0.1794400066,"gz":-0.1568399966,"qx":-0.1968378723,"qy":-0.0961911604,"qz":0.2373651117,"qw":0.9463476539,"p":1.0530151129},"144":{"ax":-0.267839998,"ay":0.1296000034,"az":-0.3303200006,"gx":0.4110400081,"gy":-0.3720400035,"gz":-0.4510799944,"qx":0.1856684685,"qy":-0.2020868808,"qz":0.0805051625,"qw":0.9581884742,"p":1.0530151129},"145":{"ax":-0.2753599882,"ay":0.2774800062,"az":-0.0322800018,"gx":-0.0331999995,"gy":-0.267080009,"gz":-0.2725600004,"qx":0.337584585,"qy":-0.3258658648,"qz":-0.1819453388,"qw":0.8640725017,"p":1.0452026129},"146":{"ax":0.0746399984,"ay":0.228640005,"az":0.1721999943,"gx":-0.2128400058,"gy":0.0503199995,"gz":0.2574000061,"qx":0.2717888653,"qy":-0.3464346528,"qz":-0.2261957079,"qw":0.8688332438,"p":1.0452026129},"147":{"ax":0.3182800114,"ay":-0.8073599935,"az":0.2029999942,"gx":-0.5505599976,"gy":0.2458799928,"gz":0.5308799744,"qx":-0.0587156713,"qy":-0.2169794291,"qz":0.0077514448,"qw":0.974362731,"p":1.0295776129},"148":{"ax":0.1881999969,"ay":0.2163999975,"az":0.3991999924,"gx":0.1749600023,"gy":-0.0364799984,"gz":0.1002800018,"qx":-0.4096669257,"qy":-0.0991818756,"qz":0.2230218947,"qw":0.878903985,"p":1.0217651129},"149":{"ax":0.0101199998,"ay":-0.0291200001,"az":-0.200880006,"gx":0.4175199866,"gy":-0.0824799985,"gz":-0.0062799999,"qx":-0.3387442529,"qy":-0.0979611725,"qz":0.2438348234,"qw":0.9033790231,"p":1.0217651129},"150":{"ax":-0.1059200019,"ay":0.0330800004,"az":-0.3592399955,"gx":0.526639998,"gy":-0.2140800059,"gz":-0.2865999937,"qx":-0.060058441,"qy":-0.126098305,"qz":0.20758003,"qw":0.968137145,"p":1.0217651129},"151":{"ax":-0.2387599945,"ay":0.2831200063,"az":-0.1414400041,"gx":0.2002000064,"gy":-0.2547999918,"gz":-0.3896799982,"qx":0.2210077345,"qy":-0.2220453322,"qz":0.0048217648,"qw":0.9495825171,"p":1.0530151129},"152":{"ax":-0.1415199935,"ay":0.1418000013,"az":0.0801199973,"gx":-0.077200003,"gy":-0.0778400004,"gz":-0.0434800014,"qx":0.2736809254,"qy":-0.2833855152,"qz":-0.1877436638,"qw":0.8996558785,"p":1.014013648},"153":{"ax":0.1176799983,"ay":-0.0231599994,"az":0.0345200002,"gx":-0.2095199972,"gy":0.1157199964,"gz":0.3442400098,"qx":0.1890864223,"qy":-0.2858268917,"qz":-0.124755539,"qw":0.9310889244,"p":1.014013648},"154":{"ax":0.2401600033,"ay":-0.5432800055,"az":0.214440003,"gx":-0.5364800096,"gy":0.2374799997,"gz":0.3914400041,"qx":-0.1239010468,"qy":-0.1593013555,"qz":0.0802610219,"qw":0.9760717154,"p":0.998388648},"155":{"ax":0.0367599986,"ay":0.0607599989,"az":0.2946400046,"gx":-0.3607600033,"gy":0.0542399995,"gz":0.1680400074,"qx":-0.3823232353,"qy":-0.094299078,"qz":0.1612544656,"qw":0.904904902,"p":0.998388648},"156":{"ax":0.0038000001,"ay":0.1202000007,"az":-0.1022000015,"gx":0.3603599966,"gy":-0.0899600014,"gz":-0.0196000002,"qx":-0.3696889877,"qy":-0.0782468691,"qz":0.2066034675,"qw":0.9024634957,"p":1.0217651129},"157":{"ax":-0.0494400002,"ay":-0.0287200008,"az":-0.3899199963,"gx":0.5709599853,"gy":-0.1985200047,"gz":-0.2233200073,"qx":-0.060058441,"qy":-0.099731192,"qz":0.1821894795,"qw":0.976315856,"p":1.0217651129},"158":{"ax":-0.1817200035,"ay":0.2115200013,"az":-0.1824399978,"gx":0.3537999988,"gy":-0.3204399943,"gz":-0.3497599959,"qx":0.2175897807,"qy":-0.1870722771,"qz":0.0455321111,"qw":0.9568457007,"p":1.0373901129},"159":{"ax":-0.18028,"ay":0.2104800045,"az":-0.0578799993,"gx":-0.0566000007,"gy":-0.1451199949,"gz":-0.109480001,"qx":0.3289786577,"qy":-0.2946769893,"qz":-0.1368404627,"qw":0.8866554499,"p":1.0373901129},"160":{"ax":0.2184800059,"ay":-0.3407599926,"az":0.3314400017,"gx":-0.597119987,"gy":0.3156799972,"gz":0.3671199977,"qx":0.0653074533,"qy":-0.2034296542,"qz":-0.0596311949,"qw":0.9750341177,"p":1.006201148},"161":{"ax":0.0942799971,"ay":-0.3780399859,"az":0.2889199853,"gx":-0.6346799731,"gy":0.126000002,"gz":0.2601599991,"qx":-0.261596024,"qy":-0.0863034874,"qz":0.0372923836,"qw":0.9605688453,"p":1.006201148},"162":{"ax":0.036559999,"ay":0.2937200069,"az":0.2370399982,"gx":0.0390800014,"gy":-0.0477599986,"gz":0.1259600073,"qx":-0.4465320706,"qy":-0.0494383499,"qz":0.1196286008,"qw":0.8853126764,"p":1.0217651129},"163":{"ax":0.0380799994,"ay":-0.0577999987,"az":-0.5267599821,"gx":0.6327199936,"gy":-0.1669999957,"gz":-0.0748400018,"qx":-0.1574703008,"qy":-0.0614622459,"qz":0.1779170185,"qw":0.9693578482,"p":1.0217651129},"164":{"ax":-0.1347600073,"ay":0.1932400018,"az":-0.2636399865,"gx":0.4678399861,"gy":-0.3216800094,"gz":-0.2986800075,"qx":0.1842036247,"qy":-0.1446529478,"qz":0.093505621,"qw":0.9676488638,"p":1.014013648},"165":{"ax":-0.243080005,"ay":0.2199199945,"az":-0.1105599999,"gx":0.0874800012,"gy":-0.318599999,"gz":-0.2489199936,"qx":0.3588857949,"qy":-0.2680657208,"qz":-0.087707296,"qw":0.8897072077,"p":1.014013648},"166":{"ax":0.0504800007,"ay":0.1518400013,"az":0.1926800013,"gx":-0.2885999978,"gy":0.1255200058,"gz":0.2469200045,"qx":0.2941276729,"qy":-0.2993766665,"qz":-0.130004555,"qw":0.89825207,"p":0.998388648},"167":{"ax":0.2312400043,"ay":-0.6282399893,"az":0.3051199913,"gx":-0.5888400078,"gy":0.2465199977,"gz":0.389560014,"qx":-0.0440062359,"qy":-0.1718135178,"qz":0.0435789898,"qw":0.9831517935,"p":0.998388648},"168":{"ax":0.0789199993,"ay":0.0513200015,"az":0.2519600093,"gx":-0.3620800078,"gy":0.0212399997,"gz":0.1949999928,"qx":-0.3715810776,"qy":-0.1008298174,"qz":0.1574703008,"qw":0.9092994332,"p":0.9750121832},"169":{"ax":0.0142000001,"ay":0.0915599987,"az":-0.0472799987,"gx":0.1413200051,"gy":-0.0502000004,"gz":0.089440003,"qx":-0.4105214179,"qy":-0.0985104889,"qz":0.225829497,"qw":0.8778663874,"p":0.9750121832},"170":{"ax":0.0473200008,"ay":0.033640001,"az":-0.2563599944,"gx":0.447360009,"gy":-0.0967599973,"gz":-0.0630799979,"qx":-0.227416411,"qy":-0.0809934437,"qz":0.2661125958,"qw":0.9331641197,"p":1.014013648},"171":{"ax":-0.206039995,"ay":0.1636400074,"az":-0.2974399924,"gx":0.248999998,"gy":-0.2763600051,"gz":-0.3684000075,"qx":0.1810908467,"qy":-0.1569209844,"qz":0.0845945105,"qw":0.9670995474,"p":1.006201148},"172":{"ax":-0.1147999987,"ay":0.0989999995,"az":-0.0204799995,"gx":0.0445999987,"gy":-0.2399999946,"gz":-0.3115600049,"qx":0.2542107701,"qy":-0.2172846049,"qz":-0.049865596,"qw":0.9410376549,"p":1.006201148},"173":{"ax":-0.0584799983,"ay":0.1658399999,"az":0.1208399981,"gx":-0.214959994,"gy":-0.0562799983,"gz":0.0128800003,"qx":0.2219232619,"qy":-0.2594597936,"qz":-0.1657710522,"qw":0.9251074791,"p":0.998388648},"174":{"ax":0.1723999977,"ay":-0.3779599965,"az":0.1841199994,"gx":-0.4216400087,"gy":0.1653199941,"gz":0.3517200053,"qx":-0.0244139992,"qy":-0.182006374,"qz":-0.0737913176,"qw":0.9801610708,"p":0.998388648},"175":{"ax":0.101879999,"ay":-0.1905999929,"az":0.1586000025,"gx":-0.3707199991,"gy":0.0513999984,"gz":0.316960007,"qx":-0.2714836895,"qy":-0.1024167314,"qz":0.065185383,"qw":0.9547094703,"p":0.9750121832},"176":{"ax":0.0423999988,"ay":0.1283600032,"az":0.0896800011,"gx":-0.0206000004,"gy":-0.0841600001,"gz":0.1875199974,"qx":-0.3948354125,"qy":-0.0813596547,"qz":0.1943964809,"qw":0.8942238092,"p":0.9750121832},"177":{"ax":0.065200001,"ay":0.0807600021,"az":-0.2342800051,"gx":0.3755199909,"gy":-0.1229199991,"gz":0.00868,"qx":-0.2542107701,"qy":-0.074889943,"qz":0.2920524776,"qw":0.9188818932,"p":1.014013648},"178":{"ax":-0.01688,"ay":0.0648000017,"az":-0.1632400006,"gx":0.3660399914,"gy":-0.1301600039,"gz":-0.1651200056,"qx":-0.0414427631,"qy":-0.0825803578,"qz":0.2760002613,"qw":0.9566625953,"p":1.014013648},"179":{"ax":-0.2363200039,"ay":0.0838399976,"az":-0.1767999977,"gx":0.079839997,"gy":-0.3292399943,"gz":-0.3657200038,"qx":0.1925654262,"qy":-0.1905512661,"qz":0.0693967938,"qw":0.9600195289,"p":0.998388648},"180":{"ax":-0.1218400002,"ay":0.1571200043,"az":0.0810799971,"gx":-0.2088800073,"gy":-0.1350400001,"gz":-0.1329600066,"qx":0.1853632927,"qy":-0.2623284161,"qz":-0.0782468691,"qw":0.9437231421,"p":0.998388648},"181":{"ax":0.1633599997,"ay":-0.4060800076,"az":0.3257200122,"gx":-0.4882799983,"gy":0.1339599937,"gz":0.3070800006,"qx":-0.1307369769,"qy":-0.1764521897,"qz":-0.0369261764,"qw":0.9748510122,"p":0.982763648},"182":{"ax":0.0643600002,"ay":-0.104079999,"az":0.127639994,"gx":-0.3092800081,"gy":-0.0664800033,"gz":0.2704400122,"qx":-0.3934316039,"qy":-0.1086423025,"qz":0.0959470198,"qw":0.9078345895,"p":0.982763648},"183":{"ax":0.0571199991,"ay":0.0889599994,"az":-0.075319998,"gx":0.0689200014,"gy":-0.1133999974,"gz":0.2290800065,"qx":-0.4445789456,"qy":-0.111755088,"qz":0.2496331483,"qw":0.8529030681,"p":0.9671996832},"184":{"ax":0.0885199979,"ay":0.1091599986,"az":-0.1402399987,"gx":0.2858799994,"gy":-0.07192,"gz":0.1294,"qx":-0.3447867036,"qy":-0.073913388,"qz":0.3684072495,"qw":0.8601052165,"p":0.9671996832},"185":{"ax":0.0208400004,"ay":0.0971999988,"az":-0.121799998,"gx":0.2931999862,"gy":-0.1028800011,"gz":-0.1379600018,"qx":-0.1373897791,"qy":-0.0494993851,"qz":0.3893422782,"qw":0.9093604684,"p":1.006201148},"186":{"ax":-0.1232400015,"ay":-0.0181200001,"az":-0.0841199979,"gx":0.1397999972,"gy":-0.2334800065,"gz":-0.389560014,"qx":0.0402220637,"qy":-0.1085812673,"qz":0.2367547601,"qw":0.9645971656,"p":1.0217651129},"187":{"ax":-0.2738400102,"ay":0.1424800009,"az":-0.0043600001,"gx":-0.2239599973,"gy":-0.210559994,"gz":-0.2541199923,"qx":0.0755002946,"qy":-0.2479851991,"qz":-0.010192845,"qw":0.9656957388,"p":1.0217651129},"188":{"ax":0.1073200032,"ay":-0.2329999954,"az":0.2216800004,"gx":-0.5147600174,"gy":0.1161200032,"gz":0.2267200053,"qx":-0.1648555398,"qy":-0.2318719625,"qz":-0.0659788325,"qw":0.9563574195,"p":1.006201148},"189":{"ax":0.0882799998,"ay":-0.2731600106,"az":0.2057200074,"gx":-0.4025599957,"gy":-0.0401999988,"gz":0.3095200062,"qx":-0.441222012,"qy":-0.1407467127,"qz":0.0236815792,"qw":0.885923028,"p":1.006201148},"190":{"ax":0.0979999974,"ay":0.1143599972,"az":-0.0480000004,"gx":0.0721200034,"gy":-0.1786800027,"gz":0.2614800036,"qx":-0.5261827111,"qy":-0.1325069815,"qz":0.2004389465,"qw":0.815671742,"p":0.982763648},"191":{"ax":0.104840003,"ay":0.1122400016,"az":-0.1514800042,"gx":0.3200800121,"gy":-0.1128399968,"gz":0.1298799962,"qx":-0.4150990248,"qy":-0.1040646732,"qz":0.3455801606,"qw":0.835080862,"p":0.982763648},"192":{"ax":-0.0226399992,"ay":0.1109199971,"az":-0.1357599944,"gx":0.3104799986,"gy":-0.0882799998,"gz":-0.0930000022,"qx":-0.2255853564,"qy":-0.0817869008,"qz":0.3842763603,"qw":0.8914161921,"p":0.998388648},"193":{"ax":-0.0877600014,"ay":0.0630799979,"az":-0.0620400012,"gx":0.1815599948,"gy":-0.1200800017,"gz":-0.2878400087,"qx":-0.0476072989,"qy":-0.1070553884,"qz":0.2881462276,"qw":0.950314939,"p":0.998388648},"194":{"ax":-0.1619600058,"ay":0.0181600004,"az":-0.0291600004,"gx":0.0035600001,"gy":-0.1785600036,"gz":-0.3177999854,"qx":0.0551146045,"qy":-0.1844477654,"qz":0.0868528038,"qw":0.9774144888,"p":0.990576148},"195":{"ax":-0.0911599994,"ay":0.1178399995,"az":0.0450400002,"gx":-0.2465600073,"gy":-0.0670799986,"gz":-0.0522800013,"qx":0.0125121754,"qy":-0.2514031529,"qz":-0.0457152165,"qw":0.9666723013,"p":0.990576148},"196":{"ax":0.1134399995,"ay":-0.2700000107,"az":0.1677200049,"gx":-0.447360009,"gy":0.0582799986,"gz":0.2382400036,"qx":-0.1950678527,"qy":-0.2065424323,"qz":-0.0304564647,"qw":0.9582495093,"p":0.9750121832},"197":{"ax":0.0656799972,"ay":-0.1642400026,"az":0.1827600002,"gx":-0.2851600051,"gy":-0.1088400036,"gz":0.2648800015,"qx":-0.3814077079,"qy":0.2717278302,"qz":-0.6553938389,"qw":0.5925278068,"p":0.9750121832},"198":{"ax":0.0946799964,"ay":0.0732799992,"az":-0.1337600052,"gx":0.0986000001,"gy":-0.1441199929,"gz":0.2479200065,"qx":-0.3980702758,"qy":0.3176261485,"qz":-0.5100694895,"qw":0.6930524111,"p":1.006201148},"199":{"ax":0.0733600035,"ay":0.1244399995,"az":-0.0589599982,"gx":0.2662400007,"gy":-0.0337200016,"gz":0.1283999979,"qx":-0.2952263057,"qy":0.2674553692,"qz":-0.4468982816,"qw":0.8009623289,"p":1.006201148}}"""

    if (str(e['data']).startswith("dataframeoutput:")):
        dataframe_string = str(e['data']).split("dataframeoutput:")[1]
        loaded_df = pd.read_json(dataframe_string, orient='index')

        print(loaded_df)
        print(loaded_df['ax'].tolist())
        return dcc.Graph(
            id='ResultGraph',
            figure={
                'data': [
                    {"x": loaded_df.index.values.tolist(), "y": loaded_df['ax'].tolist(), 'type': 'line', 'name': 'ax'},
                    {"x": loaded_df.index.values.tolist(), "y": loaded_df['p'].tolist(), 'type': 'line', 'name': 'p'}
                ],
                'layout': {
                    'title': 'Recorded Data Graph',
                    'showlegend': 'true'
                }
            }
        )
    return f"Response from websocket: {e['data']}"


X = deque(maxlen = 50)
xaxiscounter = 0
Y = deque(maxlen = 50)

@app.callback(Output("live-graph", "figure"), [Input("ws", "message")])
def message(e):
    global xaxiscounter
    global X
    global Y
    if (str(e['data']).startswith("liveData:")):
        dict_string = str(e['data']).split("liveData:")[1]
        dict_values = json.loads(dict_string)
        xaxiscounter +=1
        X.append(xaxiscounter)
        Y.append(dict_values["ax"])
        print(dict_values["ax"])

        figure = {
            'data': [
                {"x": list[X], "y": list[Y], 'type': 'line', 'name': 'ax'},
            ],
            'layout': {
                'title': 'Live Data Graph',
                'showlegend': 'true'
            }
        }
        data = plotly.graph_objs.Scatter(
                x=list(X),
                y=list(Y),
                name='Scatter',

        )

        return {'data': [data],
                'layout': go.Layout(xaxis=dict(range=[min(X), max(X)]), yaxis=dict(range=[min(Y), max(Y)]), )}

if __name__ == '__main__':
    app.run_server()